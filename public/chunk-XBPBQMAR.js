import{b as F}from"./chunk-IFIRZPDV.js";import"./chunk-4VCNPSG4.js";import{a as M}from"./chunk-X7DB5UBW.js";import{$ as i,A as _,Ca as B,F as b,G as E,M as T,N as c,O as m,S as g,W as v,X as j,Y as P,Z as y,_ as o,aa as S,ba as k,ca as p,d as H,da as u,ea as I,ga as a,ha as d,ia as J,ma as z,na as R,u as C,x as w,ya as f}from"./chunk-YW5HSTP4.js";var D=H(M());var h=(()=>{let t=class t{constructor(s){this.http=s}traerPaises(){return this.http.get(t.rutaPaises)}};t.rutaPaises="https://restcountries.com/v2/all",t.\u0275fac=function(n){return new(n||t)(w(f))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function L(e,t){if(e&1&&(o(0,"p",6),a(1),i()),e&2){let l=u();c(),d(l.intentosRestantes)}}function O(e,t){if(e&1&&(o(0,"p",15),a(1),i()),e&2){let l=u();c(),d(l.intentosRestantes)}}function $(e,t){if(e&1&&(o(0,"p",16),a(1,"\xBFCu\xE1l es el pais que se llama"),i(),o(2,"p",17),a(3),i(),o(4,"p",16),a(5,"?"),i()),e&2){let l=u();c(3),d(l.paisCorrecto.name.toUpperCase())}}function q(e,t){e&1&&(o(0,"p",18),a(1,"Correcto!"),i())}function K(e,t){e&1&&(o(0,"p",19),a(1,"Incorrecto!"),i())}function Q(e,t){if(e&1){let l=k();o(0,"div",20),p("click",function(){let n=b(l).$implicit,r=u();return E(r.elegirPokemon(n))}),S(1,"img",21),i()}if(e&2){let l=t.$implicit;c(),I("src",l.foto,T)}}var X=(()=>{let t=class t{constructor(s,n,r,x){this.paisesService=s,this.auth=n,this.router=r,this.http=x,this.intentosRestantes=10,this.score=0,this.toast=!1,this.sePuede=!1,this.esCorrecto=0,this.mensaje="",this.paises=[],this.paisesEnJuego=[]}comenzarJuego(){this.sePuede=!0,this.paisesEnJuego=this.paises.sort(()=>Math.random()-.5),this.paisesEnJuego=this.paisesEnJuego.slice(0,4),this.paisCorrecto=this.paisesEnJuego.slice().sort(()=>.5-Math.random())[0]}elegirPokemon(s){this.sePuede&&(this.paisCorrecto.name===s.name?(this.mensaje="Correcto",this.score++,this.esCorrecto=1,setTimeout(()=>{this.esCorrecto=0},500)):(this.mensaje="Incorrecto",this.intentosRestantes--,this.esCorrecto=-1,setTimeout(()=>{this.esCorrecto=0},500)),this.toast=!0,setTimeout(()=>{this.toast=!1},3e3),this.intentosRestantes>0?(this.sePuede=!1,setTimeout(()=>{this.comenzarJuego()},500)):(D.default.fire({title:"Has perdido!",text:"Tu puntuacion fue de: "+this.score+" - \xBFQuieres jugar de nuevo?",icon:"error",heightAuto:!1,showDenyButton:!0,confirmButtonText:"Jugar de nuevo",denyButtonText:"Salir",allowOutsideClick:!1,allowEscapeKey:!1}).then(n=>{n.isConfirmed?window.location.href="/preguntados":n.isDenied&&this.redirectTo("home")}),this.sePuede=!1,this.toast=!0,setTimeout(()=>{this.toast=!1},3e3)))}reiniciar(){this.paisesEnJuego=[],this.paisCorrecto={},this.intentosRestantes=10,this.score=0,this.mensaje="Reiniciando...",this.toast=!0,setTimeout(()=>{this.toast=!1},3e3),this.comenzarJuego()}ngOnInit(){console.log(this.paises),this.obtenerTodosLosPaises(),console.log(this.paises),this.comenzarJuego()}obtenerTodosLosPaises(){this.http.get("https://restcountries.com/v2/all").subscribe(s=>{s.map(n=>{let r={name:n.name.common,flag:n.flags.png};this.paises.push(r)})})}redirectTo(s){this.router.navigateByUrl(s)}};t.\u0275fac=function(n){return new(n||t)(m(h),m(F),m(B),m(f))},t.\u0275cmp=_({type:t,selectors:[["app-preguntados"]],standalone:!0,features:[z([h]),R],decls:28,vars:3,consts:[[1,"w-screen","h-screen","flex","flex-col","overflow-x-","bg-cover","bg-center","bg-[url('/assets/home/fondo.jpg')]"],[1,"w-full","h-16","min-h-16","bg-zinc-900","flex","flex-row","justify-between"],[1,"flex","items-center","flex-row","gap-3","ml-7","z-50"],["src","/assets/joystick.png","alt","","height","32px","width","32px",1,"cursor-pointer",3,"click"],[1,"text-2xl","text-slate-100","font-bold"],[1,"absolute","h-16","w-screen","flex","justify-center","items-center","flex-row","gap-3","z-20"],[1,"text-xl","text-slate-100","font-bold"],[1,"flex","flex-row","gap-1"],[1,"flex","items-center","flex-row","gap-3","mr-7","z-50"],[1,"bg-slate-100","rounded-md","py-1","px-3","text-customBlue","font-medium","hover:bg-[url('/assets/home/fondo.jpg')]","hover:text-slate-100","hover:bg-left","transition-colors","duration-300",3,"click"],[1,"flex","flex-col","justify-start","items-center","w-full","gap-3","my-8","z-50"],[1,"flex","flex-row","justify-center","p-2","bg-white","rounded-2xl","gap-1"],[1,"h-2/3","w-full","flex","justify-center"],[1,"w-full","h-full","grid","grid-cols-2","grid-rows-2","gap-5","p-5"],[1,"group","w-full","h-full","rounded-xl","bg-white/40","flex","justify-center","items-center","hover:bg-white/80","active:bg-white","transition-all"],[1,"text-xl","text-red-600","font-bold"],[1,"text-xl","text-customBlue","font-bold"],[1,"text-xl","text-customBlue","font-black"],[1,"text-xl","text-green-600","font-bold","mx-2"],[1,"text-xl","text-red-600","font-bold","mx-2"],[1,"group","w-full","h-full","rounded-xl","bg-white/40","flex","justify-center","items-center","hover:bg-white/80","active:bg-white","transition-all",3,"click"],["alt","",1,"w-32","h-32","group-hover:scale-125","transition-all",3,"src"]],template:function(n,r){n&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),p("click",function(){return r.redirectTo("home")}),i(),o(4,"p",4),a(5,"Preguntados"),i()(),o(6,"div",5)(7,"p",6),a(8),i(),o(9,"p",6),a(10," | "),i(),o(11,"div",7)(12,"p",6),a(13,"Fallos Restantes: "),i(),g(14,L,2,1,"p",6)(15,O,2,1),i()(),o(16,"div",8)(17,"button",9),p("click",function(){return r.redirectTo("home")}),a(18,"Home"),i()()(),o(19,"div",10)(20,"div",11),g(21,$,6,1)(22,q,2,0)(23,K,2,0),i()(),o(24,"div",12)(25,"div",13),P(26,Q,2,1,"div",14,j),i()()()),n&2&&(c(8),J("Aciertos: ",r.score,""),c(6),v(14,r.intentosRestantes>3?14:15),c(7),v(21,r.esCorrecto==0?21:r.esCorrecto==1?22:23),c(5),y(r.paisesEnJuego))}});let e=t;return e})();export{X as PreguntadosComponent};
