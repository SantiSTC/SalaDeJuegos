import{b as F}from"./chunk-IFIRZPDV.js";import"./chunk-4VCNPSG4.js";import{a as M}from"./chunk-X7DB5UBW.js";import{$ as o,A as C,Ca as B,F as w,G as _,M as P,N as m,O as p,S as x,W as g,X as b,Y as E,Z as T,_ as i,aa as S,ba as j,ca as d,d as D,da as u,ea as y,ga as r,ha as f,ia as I,ma as J,na as z,u as k,x as v,ya as R}from"./chunk-YW5HSTP4.js";var h=(()=>{let t=class t{constructor(l){this.http=l}traerPokemones(){return this.http.get(t.rutaPokemons)}};t.rutaPokemons="https://pokeapi.co/api/v2/pokemon?limit=500&offset=0",t.\u0275fac=function(n){return new(n||t)(v(R))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var A=D(M());function V(e,t){if(e&1&&(i(0,"p",6),r(1),o()),e&2){let a=u();m(),f(a.intentosRestantes)}}function $(e,t){if(e&1&&(i(0,"p",15),r(1),o()),e&2){let a=u();m(),f(a.intentosRestantes)}}function O(e,t){if(e&1&&(i(0,"p",16),r(1,"\xBFCu\xE1l es el pok\xE9mon que se llama"),o(),i(2,"p",17),r(3),o(),i(4,"p",16),r(5,"?"),o()),e&2){let a=u();m(3),f(a.pokemonCorrecto.name.toUpperCase())}}function q(e,t){e&1&&(i(0,"p",18),r(1,"Correcto!"),o())}function K(e,t){e&1&&(i(0,"p",19),r(1,"Incorrecto!"),o())}function Q(e,t){if(e&1){let a=j();i(0,"div",20),d("click",function(){let n=w(a).$implicit,s=u();return _(s.elegirPokemon(n))}),S(1,"img",21),o()}if(e&2){let a=t.$implicit;m(),y("src",a.foto,P)}}var X=(()=>{let t=class t{constructor(l,n,s){this.pokemonService=l,this.auth=n,this.router=s,this.pokemones=[],this.pokemonesEnJuego=[],this.intentosRestantes=10,this.score=0,this.toast=!1,this.sePuede=!1,this.esCorrecto=0,this.mensaje="",this.rutaImagen="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/?.png"}comenzarJuego(){this.sePuede=!0,this.pokemonesEnJuego=this.pokemones.sort(()=>Math.random()-.5),this.pokemonesEnJuego=this.pokemonesEnJuego.slice(0,4),this.pokemonCorrecto=this.pokemonesEnJuego.slice().sort(()=>.5-Math.random())[0]}elegirPokemon(l){this.sePuede&&(this.pokemonCorrecto.name===l.name?(this.mensaje="Correcto",this.score++,this.esCorrecto=1,setTimeout(()=>{this.esCorrecto=0},500)):(this.mensaje="Incorrecto",this.intentosRestantes--,this.esCorrecto=-1,setTimeout(()=>{this.esCorrecto=0},500)),this.toast=!0,setTimeout(()=>{this.toast=!1},3e3),this.intentosRestantes>0?(this.sePuede=!1,setTimeout(()=>{this.comenzarJuego()},500)):(A.default.fire({title:"Has perdido!",text:"Tu puntuacion fue de: "+this.score+" - \xBFQuieres jugar de nuevo?",icon:"error",heightAuto:!1,showDenyButton:!0,confirmButtonText:"Jugar de nuevo",denyButtonText:"Salir",allowOutsideClick:!1,allowEscapeKey:!1}).then(n=>{n.isConfirmed?window.location.href="/preguntados_pokemon":n.isDenied&&this.redirectTo("home")}),this.sePuede=!1,this.toast=!0,setTimeout(()=>{this.toast=!1},3e3)))}reiniciar(){this.pokemonesEnJuego=[],this.pokemonCorrecto={},this.intentosRestantes=10,this.score=0,this.mensaje="Reiniciando...",this.toast=!0,setTimeout(()=>{this.toast=!1},3e3),this.comenzarJuego()}ngOnInit(){this.pokemonService.traerPokemones().toPromise().then(n=>{let s=n.results;for(let c=0;c<s.length;c++)this.pokemones.push({name:s[c].name,foto:this.rutaImagen.replace("?",`${n.results[c].url.split("/")[6]}`)});console.log(this.pokemones),this.comenzarJuego()})}redirectTo(l){this.router.navigateByUrl(l)}};t.\u0275fac=function(n){return new(n||t)(p(h),p(F),p(B))},t.\u0275cmp=C({type:t,selectors:[["app-preguntados-pokemon"]],standalone:!0,features:[J([h]),z],decls:28,vars:3,consts:[[1,"w-screen","h-screen","flex","flex-col","overflow-x-","bg-cover","bg-center","bg-[url('/assets/home/fondo.jpg')]"],[1,"w-full","h-16","min-h-16","bg-zinc-900","flex","flex-row","justify-between"],[1,"flex","items-center","flex-row","gap-3","ml-7","z-50"],["src","/assets/joystick.png","alt","","height","32px","width","32px",1,"cursor-pointer",3,"click"],[1,"text-2xl","text-slate-100","font-bold"],[1,"absolute","h-16","w-screen","flex","justify-center","items-center","flex-row","gap-3","z-20"],[1,"text-xl","text-slate-100","font-bold"],[1,"flex","flex-row","gap-1"],[1,"flex","items-center","flex-row","gap-3","mr-7","z-50"],[1,"bg-slate-100","rounded-md","py-1","px-3","text-customBlue","font-medium","hover:bg-[url('/assets/home/fondo.jpg')]","hover:text-slate-100","hover:bg-left","transition-colors","duration-300",3,"click"],[1,"flex","flex-col","justify-start","items-center","w-full","gap-3","my-8","z-50"],[1,"flex","flex-row","justify-center","p-2","bg-white","rounded-2xl","gap-1"],[1,"h-2/3","w-full","flex","justify-center"],[1,"w-full","h-full","grid","grid-cols-2","grid-rows-2","gap-5","p-5"],[1,"group","w-full","h-full","rounded-xl","bg-white/40","flex","justify-center","items-center","hover:bg-white/80","active:bg-white","transition-all"],[1,"text-xl","text-red-600","font-bold"],[1,"text-xl","text-customBlue","font-bold"],[1,"text-xl","text-customBlue","font-black"],[1,"text-xl","text-green-600","font-bold","mx-2"],[1,"text-xl","text-red-600","font-bold","mx-2"],[1,"group","w-full","h-full","rounded-xl","bg-white/40","flex","justify-center","items-center","hover:bg-white/80","active:bg-white","transition-all",3,"click"],["alt","",1,"w-32","h-32","group-hover:scale-125","transition-all",3,"src"]],template:function(n,s){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),d("click",function(){return s.redirectTo("home")}),o(),i(4,"p",4),r(5,"Preguntados"),o()(),i(6,"div",5)(7,"p",6),r(8),o(),i(9,"p",6),r(10," | "),o(),i(11,"div",7)(12,"p",6),r(13,"Fallos Restantes: "),o(),x(14,V,2,1,"p",6)(15,$,2,1),o()(),i(16,"div",8)(17,"button",9),d("click",function(){return s.redirectTo("home")}),r(18,"Home"),o()()(),i(19,"div",10)(20,"div",11),x(21,O,6,1)(22,q,2,0)(23,K,2,0),o()(),i(24,"div",12)(25,"div",13),E(26,Q,2,1,"div",14,b),o()()()),n&2&&(m(8),I("Aciertos: ",s.score,""),m(6),g(14,s.intentosRestantes>3?14:15),m(7),g(21,s.esCorrecto==0?21:s.esCorrecto==1?22:23),m(5),T(s.pokemonesEnJuego))}});let e=t;return e})();export{X as PreguntadosPokemonComponent};
