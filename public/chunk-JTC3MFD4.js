import{b as O}from"./chunk-IFIRZPDV.js";import"./chunk-4VCNPSG4.js";import{a as V}from"./chunk-X7DB5UBW.js";import{$ as n,A as C,Ca as B,F as d,G as f,N as p,O as w,S as _,T as v,W as y,_ as t,aa as u,ba as g,ca as c,d as D,da as m,ga as s,ia as h,na as k,oa as S,va as E,wa as M,xa as T}from"./chunk-YW5HSTP4.js";var b=D(V());var j=(l,a)=>({"bg-green-700 h-full w-full":l,"h-full w-full":a});function z(l,a){if(l&1){let r=g();t(0,"div",14)(1,"div",15),c("click",function(){d(r);let e=m();return f(e.setDificulty("facil"))}),u(2,"img",16),n(),t(3,"p",17),s(4,"Facil"),n()(),t(5,"div",14)(6,"div",18),c("click",function(){d(r);let e=m();return f(e.setDificulty("medio"))}),u(7,"img",19),n(),t(8,"p",17),s(9,"Medio"),n()(),t(10,"div",14)(11,"div",18),c("click",function(){d(r);let e=m();return f(e.setDificulty("dificil"))}),u(12,"img",20),n(),t(13,"p",17),s(14,"Dificil"),n()()}}function P(l,a){if(l&1){let r=g();t(0,"div",14)(1,"div",18),c("click",function(){d(r);let e=m();return f(e.setDificulty("facil"))}),u(2,"img",16),n(),t(3,"p",17),s(4,"Facil"),n()(),t(5,"div",14)(6,"div",15),c("click",function(){d(r);let e=m();return f(e.setDificulty("medio"))}),u(7,"img",19),n(),t(8,"p",17),s(9,"Medio"),n()(),t(10,"div",14)(11,"div",18),c("click",function(){d(r);let e=m();return f(e.setDificulty("dificil"))}),u(12,"img",20),n(),t(13,"p",17),s(14,"Dificil"),n()()}}function F(l,a){if(l&1){let r=g();t(0,"div",14)(1,"div",18),c("click",function(){d(r);let e=m();return f(e.setDificulty("facil"))}),u(2,"img",16),n(),t(3,"p",17),s(4,"Facil"),n()(),t(5,"div",14)(6,"div",18),c("click",function(){d(r);let e=m();return f(e.setDificulty("medio"))}),u(7,"img",19),n(),t(8,"p",17),s(9,"Medio"),n()(),t(10,"div",14)(11,"div",15),c("click",function(){d(r);let e=m();return f(e.setDificulty("dificil"))}),u(12,"img",20),n(),t(13,"p",17),s(14,"Dificil"),n()()}}function I(l,a){if(l&1){let r=g();t(0,"div",23),c("click",function(){let e=d(r).index,o=m().index,x=m();return f(x.revealCell(o,e))}),t(1,"button",24),s(2),n()()}if(l&2){let r=a.$implicit,i=m(2);p(),v("ngClass",S(3,j,r.revealed,r.hasMine))("disabled",i.gameover),p(),h(" ",r.revealed?r.hasMine?"\u{1F4A3}":"\u2705":""," ")}}function A(l,a){if(l&1&&(t(0,"div",21),_(1,I,3,6,"div",22),n()),l&2){let r=a.$implicit;p(),v("ngForOf",r)}}var Q=(()=>{let a=class a{constructor(i,e){this.auth=i,this.router=e,this.rows=8,this.cols=8,this.mines=3,this.restantes=20,this.score=0,this.terminado=!1,this.toast=!1,this.dificultad="facil",this.board=[],this.gameover=!1}comenzarJuego(){this.board=[];for(let i=0;i<this.rows;i++){let e=[];for(let o=0;o<this.cols;o++)e.push({revealed:!1,hasMine:!1});this.board.push(e)}for(let i=0;i<this.mines;i++){let e=Math.floor(Math.random()*this.rows),o=Math.floor(Math.random()*this.cols);this.board[e][o].hasMine=!0}}revealCell(i,e){console.log(i,e),!(this.gameover||this.board[i][e].revealed)&&(this.board[i][e].revealed=!0,this.board[i][e].hasMine?(this.gameover=!0,this.terminado=!0,setTimeout(()=>{b.default.fire({title:"Has perdido!",text:"Tu puntuacion fue de: "+this.score+" - \xBFQuieres jugar de nuevo?",icon:"error",heightAuto:!1,showDenyButton:!0,confirmButtonText:"Jugar de nuevo",denyButtonText:"Salir",allowOutsideClick:!1,allowEscapeKey:!1}).then(o=>{o.isConfirmed?window.location.href="/buscaminas":o.isDenied&&this.redirectTo("home")})},1e3)):(this.restantes--,this.score++,this.restantes===0&&(this.terminado=!0,this.gameover=!0,b.default.fire({title:"Has GANADO!",text:"Tu puntuacion fue de: "+this.score+" - \xBFQuieres jugar de nuevo?",icon:"success",heightAuto:!1,showDenyButton:!0,confirmButtonText:"Jugar de nuevo",denyButtonText:"Salir",allowOutsideClick:!1,allowEscapeKey:!1}).then(o=>{o.isConfirmed?window.location.href="/buscaminas":o.isDenied&&this.redirectTo("home")}))),this.toast=!0,setTimeout(()=>{this.toast=!1},1500))}reiniciar(){this.terminado=!1,this.gameover=!1,this.score=0,this.comenzarJuego(),this.toast=!0,setTimeout(()=>{this.toast=!1},3e3)}setDificulty(i){switch(this.dificultad=i,i.toLowerCase()){case"facil":this.mines=3,this.restantes=20;break;case"medio":this.mines=5,this.restantes=40;break;case"dificil":this.mines=7,this.restantes=57;break}this.reiniciar()}ngOnInit(){this.comenzarJuego()}redirectTo(i){this.router.navigateByUrl(i)}};a.\u0275fac=function(e){return new(e||a)(w(O),w(B))},a.\u0275cmp=C({type:a,selectors:[["app-buscaminas"]],standalone:!0,features:[k],decls:28,vars:5,consts:[[1,"w-screen","h-screen","flex","flex-col","overflow-x-","bg-cover","bg-center","bg-[url('/assets/home/fondo.jpg')]"],[1,"w-full","h-16","min-h-16","bg-zinc-900","flex","flex-row","justify-between"],[1,"flex","items-center","flex-row","gap-3","ml-7","z-50"],["src","/assets/joystick.png","alt","","height","32px","width","32px",1,"cursor-pointer",3,"click"],[1,"text-xl","text-slate-100","font-bold"],[1,"absolute","h-16","w-screen","flex","justify-center","items-center","flex-row","gap-3","z-20"],[1,"text-xl","text-red-700","font-bold"],[1,"flex","items-center","flex-row","gap-3","mr-7","z-50"],[1,"bg-slate-100","rounded-md","py-1","px-3","text-customBlue","font-medium","hover:bg-[url('/assets/home/fondo.jpg')]","hover:text-slate-100","hover:bg-left","transition-colors","duration-300",3,"click"],[1,"flex","flex-col","justify-center","items-center","h-full","w-full","gap-7","my-3","z-50"],[1,"h-20","w-full","flex","justify-center","items-center","flex-row","gap-10"],[1,"flex","flex-co","justify-center","items-center","gap-8"],[1,"flex","bg-zinc-300","p-2","rounded-md"],["class","bg-zinc-300",4,"ngFor","ngForOf"],[1,"rounded-full","flex","flex-col","justify-center","items-center"],[1,"p-3","rounded-full","bg-white","flex","justify-center","items-center","cursor-pointer","transition-all",3,"click"],["src","/assets/buscaminas/facil.png","alt","",1,"w-9","h-9"],[1,"text-xl","text-slate-100","font-bold","text-center"],[1,"p-1.5","rounded-full","bg-white/60","flex","justify-center","items-center","cursor-pointer","hover:bg-white","hover:scale-95","transition-all",3,"click"],["src","/assets/buscaminas/medio.png","alt","",1,"w-9","h-9"],["src","/assets/buscaminas/dificil.png","alt","",1,"w-9","h-9"],[1,"bg-zinc-300"],["class","h-10 w-10 bg-gray-600 cursor-pointer m-0.5 hover:bg-gray-700 rounded-sm",3,"click",4,"ngFor","ngForOf"],[1,"h-10","w-10","bg-gray-600","cursor-pointer","m-0.5","hover:bg-gray-700","rounded-sm",3,"click"],[3,"ngClass","disabled"]],template:function(e,o){if(e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),c("click",function(){return o.redirectTo("home")}),n(),t(4,"p",4),s(5,"Evitaminas ContraReloj"),n()(),t(6,"div",5)(7,"p",4),s(8),n(),t(9,"p",4),s(10,"|"),n(),t(11,"p",4),s(12),n(),t(13,"p",4),s(14,"|"),n(),t(15,"p",6),s(16),n()(),t(17,"div",7)(18,"button",8),c("click",function(){return o.redirectTo("home")}),s(19,"Home"),n()()(),t(20,"div",9)(21,"div",10)(22,"div",11),_(23,z,15,0)(24,P,15,0)(25,F,15,0),n()(),t(26,"div",12),_(27,A,2,1,"div",13),n()()()),e&2){let x;p(8),h("Aciertos: ",o.score,""),p(4),h("Restantes: ",o.restantes,""),p(4),h("Bombas: ",o.mines,""),p(7),y(23,(x=o.dificultad)==="facil"?23:x==="medio"?24:25),p(4),v("ngForOf",o.board)}},dependencies:[T,E,M],styles:[".contenedor[_ngcontent-%COMP%]{position:fixed;width:80%;height:50vh;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:30%;left:10%;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif;color:#fff}.minesweeper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,30px);gap:4px;left:2.5%}.row[_ngcontent-%COMP%]{display:flex}.cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:30px;height:30px;background-color:silver;font-size:16px;font-weight:700;border:1px solid #888;cursor:pointer}.cell.revealed[_ngcontent-%COMP%]{background-color:#f0f0f0;cursor:not-allowed}.cell.mine[_ngcontent-%COMP%]{background-color:red;color:#fff}.otroDiv[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;justify-content:center;align-items:center;text-align:center;top:17%;left:1%;width:100%}.unDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.titulo[_ngcontent-%COMP%]{top:0%;position:fixed;text-align:center;color:#fff;text-shadow:2px 2px 2px black;font-weight:700;width:max-content;display:block;margin:0 auto;background-color:#432545b3;padding:5px 15px;margin-top:10rem;border-radius:20px;box-shadow:0 0 8px gray;margin-bottom:1rem;box-shadow:0 0 20px #c8bcfb}.puntuacion[_ngcontent-%COMP%]{position:absolute;top:29%;text-align:center;color:#00d9ff;font-size:1.5rem;text-shadow:2px 2px 2px black;font-weight:700}.intentos[_ngcontent-%COMP%]{color:#00d9ff;margin-left:8rem;text-shadow:2px 2px 2px black;font-weight:700;font-size:1.5rem}.divBtn[_ngcontent-%COMP%]{position:fixed;bottom:10%;display:flex;flex-direction:row;justify-content:center;align-items:center;text-align:center}.btn-comenzar-reiniciar[_ngcontent-%COMP%]{padding:1.3em 3em;font-size:12px;text-transform:uppercase;letter-spacing:2.5px;font-weight:500;color:#000;background-color:#fff;border:none;border-radius:45px;box-shadow:0 8px 15px #c503facc;transition:all .3s ease 0s;cursor:pointer;outline:none;display:block;margin:10px}.btn-comenzar-reiniciar[_ngcontent-%COMP%]:hover{background-color:#6716c4;box-shadow:0 15px 20px #f502fd66;color:#fff;transform:translateY(-7px)}.btn-comenzar-reiniciar[_ngcontent-%COMP%]{transform:translateY(-1px)}.error-toast[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background-color:#802cbc;color:#fff;border-radius:5px;padding:10px;display:flex;align-items:center;box-shadow:0 2px 5px #0003;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.error-toast-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}.error-toast-message[_ngcontent-%COMP%]{font-size:20px}"]});let l=a;return l})();export{Q as BuscaminasComponent};
