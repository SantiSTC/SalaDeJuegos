import{h as f,j as g,l as p,m as y,n as j,p as w,q as I,r as h,s as D,t as d,v as m,w as l,x as E}from"./chunk-TSYG2UX4.js";import{V as n,_ as s,f as u}from"./chunk-XSTIV2NF.js";var b=(()=>{let i=class i{constructor(t){this.firestore=t}guardar(t,e){let r=h(this.firestore,t);return I(r,e)}traer(t,e,r="asc"){let o=h(this.firestore,t),c;return e?r==="asc"?c=l(o,m(e,"asc")):c=l(o,m(e,"desc")):c=l(o),w(c,{idField:"id"})}actualizar(t,e){return u(this,null,function*(){let r=d(this.firestore,t,e.id);try{return yield E(r,e),"Actualizado correctamente."}catch(o){return o}})}eliminar(t,e){return u(this,null,function*(){let r=d(this.firestore,t,e);try{return yield D(r),"Eliminado correctamente."}catch(o){return o}})}};i.\u0275fac=function(e){return new(e||i)(s(j))},i.\u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})();var q=(()=>{let i=class i{constructor(t,e){this.auth=t,this.firestore=e,this.email=""}login(t,e){let r;try{this.email=t,r=p(this.auth,t,e).then(o=>{this.guardarLog()})}catch(o){console.log(o),r=null}return r}logout(){let t;try{t=y(this.auth),this.email=""}catch(e){console.log(e),t=null}return t}register(t,e){let r;try{r=g(this.auth,t,e)}catch(o){console.log(o),r=null}return r}getUser(){return this.auth.currentUser}isAuthenticated(){return this.email!==""}guardarLog(){let t=new Date,e=t.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"/"),r=t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),o=`${e} ${r}`,c={user:this.email,date:o};this.firestore.guardar("logins",c)}};i.\u0275fac=function(e){return new(e||i)(s(f),s(b))},i.\u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})();export{b as a,q as b};
